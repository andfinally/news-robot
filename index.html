<!DOCTYPE html>
<html lang="en" ng-app="twitterServiceApp">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<title>Firehose</title>

	<link href="css/style.css" rel="stylesheet">

	<script src="bower_components/angular/angular.min.js"></script>
	<script src="bower_components/angular-route/angular-route.min.js"></script>
	<script src="bower_components/angular-resource/angular-resource.min.js"></script>
	<script src="bower_components/jquery/dist/jquery.min.js"></script>
	<script src="bower_components/aterrien/jQuery-Knob/dist/jquery.knob.min.js"></script>
	<script src="js/app.js"></script>

</head>
<body>

<div ng-view class="container"></div>

<div id="dial-container">
	<input class="dial">
</div>

<script>

	$.fn.timer = function (userdefinedoptions) {

		var $this = $(this), opt, count = 0;

		opt = $.extend({
				// Config
				'timer'  : 100, // Tenths of a second
				'width'  : 100,
				'height' : 100,
				'fgColor': "hotpink",
				'bgColor': "white"
			}, userdefinedoptions
		);

		$this.knob({
			'min'         : 0,
			'max'         : opt.timer,
			'readOnly'    : true,
			'width'       : opt.width,
			'height'      : opt.height,
			'fgColor'     : opt.fgColor,
			'bgColor'     : opt.bgColor,
			'displayInput': false,
			'dynamicDraw' : false,
			'ticks'       : 0,
			'thickness'   : 0.6
		});

		setInterval(function () {
			newVal = ++count;
			$this.val(newVal).trigger('change');
			if (newVal > 99) {
				location.reload(true);
			}
		}, 100);

	};

	$('.dial').timer();

</script>

</body>
</html>
